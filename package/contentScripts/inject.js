/*! For license information please see inject.js.LICENSE.txt */
(()=>{var t={487:t=>{var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n},bytesToString:function(t){for(var n=[],e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return n.join("")}}};t.exports=n},12:t=>{var n,e;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(t){for(var n=[],e=0,r=0;e<t.length;e++,r+=8)n[r>>>5]|=t[e]<<24-r%32;return n},wordsToBytes:function(t){for(var n=[],e=0;e<32*t.length;e+=8)n.push(t[e>>>5]>>>24-e%32&255);return n},bytesToHex:function(t){for(var n=[],e=0;e<t.length;e++)n.push((t[e]>>>4).toString(16)),n.push((15&t[e]).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(parseInt(t.substr(e,2),16));return n},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],s=0;s<4;s++)8*r+6*s<=8*t.length?e.push(n.charAt(o>>>6*(3-s)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(t.charAt(r))>>>6-2*o);return e}},t.exports=e},738:t=>{function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},296:(t,n,e)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,i="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,u="object"==typeof self&&self&&self.Object===Object&&self,f=i||u||Function("return this")(),d=Object.prototype.toString,l=Math.max,y=Math.min,g=function(){return f.Date.now()};function p(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(p(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=p(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var e=s.test(t);return e||a.test(t)?c(t.slice(2),e?2:8):o.test(t)?NaN:+t}t.exports=function(t,n,e){var r,o,s,a,c,i,u=0,f=!1,d=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(n){var e=r,s=o;return r=o=void 0,u=n,a=t.apply(s,e)}function h(t){return u=t,c=setTimeout(k,n),f?b(t):a}function _(t){var e=t-i;return void 0===i||e>=n||e<0||d&&t-u>=s}function k(){var t=g();if(_(t))return T(t);c=setTimeout(k,function(t){var e=n-(t-i);return d?y(e,s-(t-u)):e}(t))}function T(t){return c=void 0,v&&r?b(t):(r=o=void 0,a)}function w(){var t=g(),e=_(t);if(r=arguments,o=this,i=t,e){if(void 0===c)return h(i);if(d)return c=setTimeout(k,n),b(i)}return void 0===c&&(c=setTimeout(k,n)),a}return n=m(n)||0,p(e)&&(f=!!e.leading,s=(d="maxWait"in e)?l(m(e.maxWait)||0,n):s,v="trailing"in e?!!e.trailing:v),w.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=i=o=c=void 0},w.flush=function(){return void 0===c?a:T(g())},w}},568:(t,n,e)=>{var r,o,s,a,c;r=e(12),o=e(487).utf8,s=e(738),a=e(487).bin,(c=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?a.stringToBytes(t):o.stringToBytes(t):s(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var e=r.bytesToWords(t),i=8*t.length,u=1732584193,f=-271733879,d=-1732584194,l=271733878,y=0;y<e.length;y++)e[y]=16711935&(e[y]<<8|e[y]>>>24)|4278255360&(e[y]<<24|e[y]>>>8);e[i>>>5]|=128<<i%32,e[14+(i+64>>>9<<4)]=i;var g=c._ff,p=c._gg,m=c._hh,v=c._ii;for(y=0;y<e.length;y+=16){var b=u,h=f,_=d,k=l;u=g(u,f,d,l,e[y+0],7,-680876936),l=g(l,u,f,d,e[y+1],12,-389564586),d=g(d,l,u,f,e[y+2],17,606105819),f=g(f,d,l,u,e[y+3],22,-1044525330),u=g(u,f,d,l,e[y+4],7,-176418897),l=g(l,u,f,d,e[y+5],12,1200080426),d=g(d,l,u,f,e[y+6],17,-1473231341),f=g(f,d,l,u,e[y+7],22,-45705983),u=g(u,f,d,l,e[y+8],7,1770035416),l=g(l,u,f,d,e[y+9],12,-1958414417),d=g(d,l,u,f,e[y+10],17,-42063),f=g(f,d,l,u,e[y+11],22,-1990404162),u=g(u,f,d,l,e[y+12],7,1804603682),l=g(l,u,f,d,e[y+13],12,-40341101),d=g(d,l,u,f,e[y+14],17,-1502002290),u=p(u,f=g(f,d,l,u,e[y+15],22,1236535329),d,l,e[y+1],5,-165796510),l=p(l,u,f,d,e[y+6],9,-1069501632),d=p(d,l,u,f,e[y+11],14,643717713),f=p(f,d,l,u,e[y+0],20,-373897302),u=p(u,f,d,l,e[y+5],5,-701558691),l=p(l,u,f,d,e[y+10],9,38016083),d=p(d,l,u,f,e[y+15],14,-660478335),f=p(f,d,l,u,e[y+4],20,-405537848),u=p(u,f,d,l,e[y+9],5,568446438),l=p(l,u,f,d,e[y+14],9,-1019803690),d=p(d,l,u,f,e[y+3],14,-187363961),f=p(f,d,l,u,e[y+8],20,1163531501),u=p(u,f,d,l,e[y+13],5,-1444681467),l=p(l,u,f,d,e[y+2],9,-51403784),d=p(d,l,u,f,e[y+7],14,1735328473),u=m(u,f=p(f,d,l,u,e[y+12],20,-1926607734),d,l,e[y+5],4,-378558),l=m(l,u,f,d,e[y+8],11,-2022574463),d=m(d,l,u,f,e[y+11],16,1839030562),f=m(f,d,l,u,e[y+14],23,-35309556),u=m(u,f,d,l,e[y+1],4,-1530992060),l=m(l,u,f,d,e[y+4],11,1272893353),d=m(d,l,u,f,e[y+7],16,-155497632),f=m(f,d,l,u,e[y+10],23,-1094730640),u=m(u,f,d,l,e[y+13],4,681279174),l=m(l,u,f,d,e[y+0],11,-358537222),d=m(d,l,u,f,e[y+3],16,-722521979),f=m(f,d,l,u,e[y+6],23,76029189),u=m(u,f,d,l,e[y+9],4,-640364487),l=m(l,u,f,d,e[y+12],11,-421815835),d=m(d,l,u,f,e[y+15],16,530742520),u=v(u,f=m(f,d,l,u,e[y+2],23,-995338651),d,l,e[y+0],6,-198630844),l=v(l,u,f,d,e[y+7],10,1126891415),d=v(d,l,u,f,e[y+14],15,-1416354905),f=v(f,d,l,u,e[y+5],21,-57434055),u=v(u,f,d,l,e[y+12],6,1700485571),l=v(l,u,f,d,e[y+3],10,-1894986606),d=v(d,l,u,f,e[y+10],15,-1051523),f=v(f,d,l,u,e[y+1],21,-2054922799),u=v(u,f,d,l,e[y+8],6,1873313359),l=v(l,u,f,d,e[y+15],10,-30611744),d=v(d,l,u,f,e[y+6],15,-1560198380),f=v(f,d,l,u,e[y+13],21,1309151649),u=v(u,f,d,l,e[y+4],6,-145523070),l=v(l,u,f,d,e[y+11],10,-1120210379),d=v(d,l,u,f,e[y+2],15,718787259),f=v(f,d,l,u,e[y+9],21,-343485551),u=u+b>>>0,f=f+h>>>0,d=d+_>>>0,l=l+k>>>0}return r.endian([u,f,d,l])})._ff=function(t,n,e,r,o,s,a){var c=t+(n&e|~n&r)+(o>>>0)+a;return(c<<s|c>>>32-s)+n},c._gg=function(t,n,e,r,o,s,a){var c=t+(n&r|e&~r)+(o>>>0)+a;return(c<<s|c>>>32-s)+n},c._hh=function(t,n,e,r,o,s,a){var c=t+(n^e^r)+(o>>>0)+a;return(c<<s|c>>>32-s)+n},c._ii=function(t,n,e,r,o,s,a){var c=t+(e^(n|~r))+(o>>>0)+a;return(c<<s|c>>>32-s)+n},c._blocksize=16,c._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var e=r.wordsToBytes(c(t,n));return n&&n.asBytes?e:n&&n.asString?a.bytesToString(e):r.bytesToHex(e)}}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={exports:{}};return t[r](s,s.exports,e),s.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{"use strict";var t=e(296),n=e.n(t),r=e(568),o=e.n(r);const s="tracks",a="__sctmext__",c={};async function i(t){return new Promise((n=>{chrome.storage.sync.get([s],((e={})=>{const r=(e.tracks||{})[t]||{};n(r)}))}))}async function u(t,n){return new Promise((e=>{chrome.storage.sync.get([s],((r={})=>{const o=r.tracks||{};o[t]=n;const a={[s]:o};chrome.storage.sync.set(a,e)}))}))}function f(t){return t.currentTarget.closest(`.${a}task`)}async function d(t){const n=t.dataset[`${a}trackId`];return{trackId:n,taskId:t.dataset[`${a}taskId`],trackData:await i(n)}}async function l(t){t.preventDefault();const n=f(t);if(!n)return;const{trackId:e,taskId:r,trackData:o}=await d(n),s=Boolean(o.done?.[r]);s?(n.classList.remove(`${a}task_done`),delete o.done?.[r]):(n.classList.add(`${a}task_done`),o.done=o.done||{},o.done[r]=Date.now()),await u(e,o)}async function y(t){t.preventDefault();const n=f(t);if(!n)return;const{trackId:e,taskId:r,trackData:o}=await d(n),s=Boolean(o.ignored?.[r]);s?(n.classList.remove(`${a}task_ignored`),delete o.ignored?.[r]):(n.classList.add(`${a}task_ignored`),o.ignored=o.ignored||{},o.ignored[r]=Date.now()),await u(e,o)}async function g(t){t.preventDefault();const n=f(t);if(!n)return;const{trackId:e,taskId:r,trackData:o}=await d(n),s=Boolean(o.focused?.[r]);document.querySelectorAll(`.${a}task_focused`).forEach((t=>{t.classList.remove(`${a}task_focused`)})),s?delete o.focused?.[r]:(n.classList.add(`${a}task_focused`),o.focused={[r]:Date.now()}),await u(e,o)}new MutationObserver(n()((async function(){const t=document.querySelectorAll(`.commentsList__item:not(.${a}task)`);if(!t?.length)return;const n=document.location.pathname,e=await i(n);t.forEach((t=>function(t,{trackId:n,trackData:e={}}){const r=t.querySelector(".commentItem__usernameLink")?.innerText||"",s=t.querySelector(".commentItem__timestampLink")?.innerText||"",i=t.querySelector(".commentItem__body p")?.innerText;if(!i)return;const u=o()([r,s,i].join("|"));if(c[n]?.[u])return;c[n]=c[n]||{},c[n][u]=!0,t.classList.add(`${a}task`),t.dataset[`${a}trackId`]=n,t.dataset[`${a}taskId`]=u,t.querySelector(".commentItem__body")?.addEventListener("click",l);const f=document.createElement("button");f.classList.add("sc-button","sc-button-secondary","sc-button-responsive","sc-button-small",`${a}task__button`,`${a}task__button_ignore`),f.textContent="Ignore",f.onclick=y,t.querySelector(".commentItem__controls")?.prepend(f);const d=document.createElement("button");d.classList.add("sc-button","sc-button-secondary","sc-button-responsive","sc-button-small",`${a}task__button`,`${a}task__button_focus`),d.textContent="Focus",d.onclick=g,t.querySelector(".commentItem__controls")?.prepend(d);const{done:p={},focused:m={},ignored:v={}}=e;p[u]&&t.classList.add(`${a}task_done`),m[u]&&t.classList.add(`${a}task_focused`),v[u]&&t.classList.add(`${a}task_ignored`)}(t,{trackId:n,trackData:e})))}),100)).observe(document.body,{childList:!0,subtree:!0})})()})();